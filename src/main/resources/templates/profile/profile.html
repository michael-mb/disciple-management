<!DOCTYPE html>
<html lang="de" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Profile</title>
    <th:block th:insert="util/import.html :: meta" ></th:block>
    <th:block th:insert="util/import.html :: head"></th:block>
    <th:block th:insert="util/import.html :: login"></th:block>
</head>
<body>
<th:block th:insert="util/import.html :: loader"></th:block>
<div id="wrapper">
    <th:block th:insert="util/header.html :: header"></th:block>
    <th:block th:insert="util/navigation.html :: navigation"></th:block>

    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="row bg-title">
                <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                    <h4 class="page-title" th:text="#{profile.title}"></h4> </div>
            </div>
            <!-- /.row -->
            <!-- .row -->
            <div class="row">
                <div class="col-md-4 col-xs-12 ">
                    <div class="white-box">
                        <div class="white-box">
                            <div class="user-bg"> <img width="100%" alt="user" src="../plugins/images/large/img1.jpg">
                                <div class="overlay-box">
                                    <div class="user-content">
                                        <h4 class="text-white" th:text="${user.lastname} + ' ' + ${user.firstname}">User Name</h4>
                                        <h5 class="text-white" th:text="${user.email}">info@myadmin.com</h5> </div>
                                </div>
                            </div>
                            <div class="user-btm-box">
                                <div class="col-md-4 col-sm-4 text-center">
                                    <p class="text-purple" th:text="#{profile.disciple}"></p>
                                    <h1 th:text="${disciples.size()}"> 0 </h1> </div>
                                <div class="col-md-4 col-sm-4 text-center">
                                    <p class="text-blue" th:text="#{profile.reportNumber}"></p>
                                    <h1 th:text="${reports.size()}">0</h1> </div>
                                <div class="col-md-4 col-sm-4 text-center">
                                    <p class="text-danger" th:text="#{profile.class}">Klasse</p>
                                    <h1>2</h1> </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 col-xs-12">
                    <div class="white-box">
                        <form class="form-horizontal form-material" method="post"
                              th:action="@{/profile/}+${user.id}" th:object="${userRegistrationDto}">
                            <div class="form-group">
                                <label class="col-md-12" th:text="#{profile.name}"></label>
                                <div class="col-md-12">
                                    <input type="text" name="lastName" id="lastName"
                                           th:value ="${user.lastname}" placeholder="Doe" class="form-control form-control-line" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-12" th:text="#{profile.surname}"></label>
                                <div class="col-md-12">
                                    <input type="text" placeholder="Johnathan"
                                           th:value ="${user.firstname}" name="firstName" id="firstName" class="form-control form-control-line" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email" class="col-md-12" th:text="#{profile.email}"></label>
                                <div class="col-md-12">
                                    <input type="email" name="email"
                                           id="email" th:value ="${user.email}" placeholder="johnathan@admin.com"
                                           class="form-control form-control-line" disabled required>
                                </div>
                            </div>
                            <div class="form-group not-hidden">
                                <label for="password" class="col-md-12"><th:block th:text="#{profile.password}"></th:block>
                                    <div class="tooltip">
                                        <picture>
                                            <source type="image/webp" srcset="/plugins/images/info.webp">
                                            <source type="image/png" srcset="/plugins/images/info.png">
                                            <img alt="" height="20" src="/plugins/images/info.png" width="20">
                                        </picture>
                                        <span class="tooltiptext">
                                            <th:block th:text="#{profile.tooltipInfo}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo1}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo2}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo3}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo4}"></th:block>
                                        </span>
                                    </div>
                                </label>

                                <div class="col-md-12">
                                    <input type="password" id="password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[ -/:-@\[-`{-~]).{6,64}$"
                                           name="password" class="form-control form-control-line" required>
                                </div>
                            </div>
                            <div class="form-group not-hidden">
                                <label for="passwordAgain" class="col-md-12"><th:block th:text="#{profile.passwordAgain}"></th:block>
                                    <div class="tooltip">
                                        <picture>
                                            <source type="image/webp" srcset="/plugins/images/info.webp">
                                            <source type="image/png" srcset="/plugins/images/info.png">
                                            <img alt="" height="20" src="/plugins/images/info.png" width="20">
                                        </picture>
                                        <span class="tooltiptext">
                                            <th:block th:text="#{profile.tooltipInfo}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo1}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo2}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo3}"></th:block>
                                                <br><th:block th:text="#{profile.tooltipInfo4}"></th:block>
                                        </span>
                                    </div>
                                </label>
                                <div class="col-md-12">
                                    <input type="password" id="passwordAgain" name="passwordAgain" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[ -/:-@\[-`{-~]).{6,64}$"
                                           class="form-control form-control-line" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-12" th:text="#{profile.phoneNumber}"></label>
                                <div class="col-md-12">
                                    <input type="text" id="phone"
                                           name="phone" th:value ="${user.phone}" placeholder="123 456 7890" class="form-control form-control-line" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="city" class="col-md-12" th:text="#{profile.city}"></label>
                                <div class="col-md-12">
                                    <input type="text" id="city"
                                           name="city" th:value ="${user.city}" placeholder="Dresden" class="form-control form-control-line" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="street" class="col-md-12" th:text="#{profile.street}"></label>
                                <div class="col-md-12">
                                    <input type="text" id="street"
                                           name="street" th:value ="${user.street}" placeholder="Dresden" class="form-control form-control-line" required>
                                </div>
                            </div>

                            <div class="form-group" sec:authorize="hasAuthority('ADMIN')">
                                <label for="discipleMakerMail" class="col-sm-12" th:text="#{profile.discipleChoise}"></label>
                                <div class="col-sm-12">
                                    <select  id="discipleMakerMail" name="discipleMakerMail" class="form-control form-control-line" required>
                                        <th:block th:each="maker,iter : ${discipleMakers}">
                                            <option th:value="${maker.email}" th:text="${iter.count} + '. '
                                             + ${maker.lastname} +' ' + ${maker.firstname} "></option>
                                        </th:block>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="discipleMaker" class="col-md-12" th:text="#{profile.discipleMaker}"></label>
                                <div class="col-md-12">
                                    <a th:href="@{/users/edit/}+${discipleMaker.id}">
                                        <p name="discipleMakerMail" id="discipleMaker" th:text="${user.discipleMakerMail}"></p>
                                    </a>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-12">
                                    <button class="btn btn-success" id="updateBtn" th:text="#{profile.updateBtn}"></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container-fluid -->
        <th:block th:insert="util/footer.html :: footer"></th:block>
    </div>
</div>
<th:block th:insert="util/import.html :: body"></th:block>
</body>
</html>